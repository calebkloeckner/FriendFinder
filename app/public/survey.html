<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
    

</head>

<body>
    <div class="container col-md-offset-2">
        <h2>Survey Questions</h2>
        <hr>
        <h3>
            <strong>How evil are you??</strong>
        </h3>
        <h4>Name (required)</h4>
        <input type="text-box" id="name" class="form-control" required>
        <h4>Link to Photo Image (required)</h4>
        <input type="text-box" id="photo" class="form-control">
        <h4>Tell us a little about your evilness!</h4>
        <input type="text-box" id="description" class="form-control" required>
        <hr>
        <div class="input-field">
            <h5 id="q1">Do you have an evil layer?</h5>
            <select id="question1">
                <option value="1">1 (Not Really)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Most Def)</option>
            </select>
        </div>
        <div class="input-field">
            <h5 id="q1">Do you posses special abilities?</h5>
            <select id="question2">
                <option value="1">1 (None at all)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Lots of it)</option>
            </select>
        </div>
        <div class="input-field">
            <h5 id="q1">Do you dream about being Eviiill?</h5>
            <select id="question3">
                <option value="1">1 (Not dream but enjoy)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Even day dream)</option>
            </select>
        </div>
        <div class="input-field">
            <h5 id="q1">Do you think the leaders are out of control?</h5>
            <select id="question4">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="input-field">
            <h5 id="q1">Do you have an evil laugh?</h5>
            <select id="question5">
                <option value="1">1 (I don't laugh)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (It is my favorite part)</option>
            </select>
        </div>
        <div class="input-field">
            <h5 id="q1">Do you have a vendetta?</h5>
            <select id="question6">
                <option value="1">1 (Not against anyone specific)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (They need to burn)</option>
            </select>
        </div>
        <div class="input-field">
            <h5 id="q1">Do you have an outfit?</h5>
            <select id="question7">
                <option value="1">1 (Heck no)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (It's fab!)</option>
            </select>
        </div>
        <div class="input-field">
            <h5 id="q1">Does a hero keep foiling your plans?</h5>
            <select id="question8">
                <option value="1">1 (Not I)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Every darn time)</option>
            </select>
        </div>
        <div class="input-field">
            <h5 id="q1">Do others fear you?</h5>
            <select id="question9">
                <option value="1">1 (No!)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (They tremble)</option>
            </select>
        </div>
        <div class="input-field">
            <h5 id="q1">Is world domination your ultimate goal?</h5>
            <select id="question10">
                <option value="1">1 (Not the whole world)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (I want it all)</option>
            </select>
        </div>
    </div>
    <br>
    <div>
        <button class="col-md-2 col-md-offset-2" id="submit" type="button" data-toggle="modal" data-target="#myModal"  class="btn btn-primary btn-sm">Submit Your Answers</button>
    </div>
    <br>
    <br>

    <!-- footer -->
    <div class="footer white-text" id="homeFooter">
        <div class="container col-md-offset-5">
        <span>
          Â© 2018 Caleb Kloeckner
          <a class="grey-text text-lighten-4 right footer-link" href="/survey"> Survey</a>
          <a class="grey-text text-lighten-4 right footer-link" href="/routing/apiRoutes"> API Evil Leaders</a>
        </span>
        </div>
      </div>
      
    <!-- jQuery -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <!-- Materialize Compiled and minified JavaScript -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/js/materialize.min.js"></script> -->
    <script>
        $("#submit").on("click", function(event) {
            console.log("working");
            
            event.preventDefault();
            var newEvilGuy = 
            {
                name: $("#name").val().trim(),
                photo: $("#photo").val().trim(),
                description: $("#description").val().trim(),
                score: []       
            };

            for(var i = 1; i <= 10; i++) {
                newEvilGuy.score.push($("#question" + i).val().trim());
            }
            console.log(newEvilGuy);
            $.post("/api/evilLeaders", newEvilGuy, function(data) {
               console.log(data);
               var modalBody = $("#inside-modal").html(data);

            
            });
        });
    </script>


<div class="modal fade" tabindex="-1" role="dialog" id="myModal">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Your closest evil villian</h4>
        </div>
        <div class="modal-body">
          <div id="inside-modal"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>